<!DOCTYPE html>
<html lang="en">

<title>PHYS-S12: Intro to Digital Fabrication </title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../style.css" rel="stylesheet">


<nav class="navbar navbar-expand-sm navbar-light bg-light">
  <div style="align-items: left; justify-content:left;" class="container-fluid">
    <h3 class="nav-title"> PHYS-S12: Intro to Digital Fabrication</h3>
    <div class="navbar-nav">
      <h4></h4>
      <h4><a class="nav-link" href="../index.html">Home</a></h4>
      <h4><a class="nav-link" href="../about.html">About</a></h4>
    </div>
  </div>

</nav>

<body>

<xmp style="display:none;">
<br> 

#### Week 7: Electronic Outputs

<html>
<div class="myDiv" style><h3>Electronic Outputs</h3></div>
<div class="vidDiv">
  
  <div class="myDiv">
    <h2>CAD: Joint</h2>
  </div>
  
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep1.png" width= 500px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep2.png" width= 500px alt = 05_Joint>

  <div class="myDiv">
    Using the Photo Resistor and the RGB LED documentation
  </div>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep3.png" width= 500px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep4.png" width= 500px alt = 05_Joint>


  <div class="myDiv">
    More Documentation
  </div>

   <div><video height="500" controls>
        <source src="./IMG2_4411.mp4" type=video/mp4>
    </video></div>

  <div class="myDiv">
  Oscilloscope 
  </div>

  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep8.png" width= 500px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep9.png" width= 500px alt = 05_Joint>

  <div class="myDiv">
    Coding
  </div>
  <div class = "leftmyDiv">
    <pre><code>
        #define NOTE_B0  31
        #define NOTE_C1  33
        #define NOTE_CS1 35
        #define NOTE_D1  37
        #define NOTE_DS1 39
        #define NOTE_E1  41
        #define NOTE_F1  44
        #define NOTE_FS1 46
        #define NOTE_G1  49
        #define NOTE_GS1 52
        #define NOTE_A1  55
        #define NOTE_AS1 58
        #define NOTE_B1  62
        #define NOTE_C2  65
        #define NOTE_CS2 69
        #define NOTE_D2  73
        #define NOTE_DS2 78
        #define NOTE_E2  82
        #define NOTE_F2  87
        #define NOTE_FS2 93
        #define NOTE_G2  98
        #define NOTE_GS2 104
        #define NOTE_A2  110
        #define NOTE_AS2 117
        #define NOTE_B2  123
        #define NOTE_C3  131
        #define NOTE_CS3 139
        #define NOTE_D3  147
        #define NOTE_DS3 156
        #define NOTE_E3  165
        #define NOTE_F3  175
        #define NOTE_FS3 185
        #define NOTE_G3  196
        #define NOTE_GS3 208
        #define NOTE_A3  220
        #define NOTE_AS3 233
        #define NOTE_B3  247
        #define NOTE_C4  262
        #define NOTE_CS4 277
        #define NOTE_D4  294
        #define NOTE_DS4 311
        #define NOTE_E4  330
        #define NOTE_F4  349
        #define NOTE_FS4 370
        #define NOTE_G4  392
        #define NOTE_GS4 415
        #define NOTE_A4  440
        #define NOTE_AS4 466
        #define NOTE_B4  494
        #define NOTE_C5  523
        #define NOTE_CS5 554
        #define NOTE_D5  587
        #define NOTE_DS5 622
        #define NOTE_E5  659
        #define NOTE_F5  698
        #define NOTE_FS5 740
        #define NOTE_G5  784
        #define NOTE_GS5 831
        #define NOTE_A5  880
        #define NOTE_AS5 932
        #define NOTE_B5  988
        #define NOTE_C6  1047
        #define NOTE_CS6 1109
        #define NOTE_D6  1175
        #define NOTE_DS6 1245
        #define NOTE_E6  1319
        #define NOTE_F6  1397
        #define NOTE_FS6 1480
        #define NOTE_G6  1568
        #define NOTE_GS6 1661
        #define NOTE_A6  1760
        #define NOTE_AS6 1865
        #define NOTE_B6  1976
        #define NOTE_C7  2093
        #define NOTE_CS7 2217
        #define NOTE_D7  2349
        #define NOTE_DS7 2489
        #define NOTE_E7  2637
        #define NOTE_F7  2794
        #define NOTE_FS7 2960
        #define NOTE_G7  3136
        #define NOTE_GS7 3322
        #define NOTE_A7  3520
        #define NOTE_AS7 3729
        #define NOTE_B7  3951
        #define NOTE_C8  4186
        #define NOTE_CS8 4435
        #define NOTE_D8  4699
        #define NOTE_DS8 4978
        #define REST      0


        // change this to make the song slower or faster
        int tempo = 105;


        // change this to whichever pin you want to use
        int buzzer = 11;


        // notes of the melody followed by the duration.
        // a 4 means a quarter note, 8 an eighteenth , 16 sixteenth, so on
        // !!negative numbers are used to represent dotted notes,
        // so -4 means a dotted quarter note, that is, a quarter plus an eighteenth!!
        int melody[] = {


          // Pacman
          // Score available at https://musescore.com/user/85429/scores/107109
          NOTE_B4, 16, NOTE_B5, 16, NOTE_FS5, 16, NOTE_DS5, 16, //1
          NOTE_B5, 32, NOTE_FS5, -16, NOTE_DS5, 8, NOTE_C5, 16,
          NOTE_C6, 16, NOTE_G6, 16, NOTE_E6, 16, NOTE_C6, 32, NOTE_G6, -16, NOTE_E6, 8,


          NOTE_B4, 16,  NOTE_B5, 16,  NOTE_FS5, 16,   NOTE_DS5, 16,  NOTE_B5, 32,  //2
          NOTE_FS5, -16, NOTE_DS5, 8,  NOTE_DS5, 32, NOTE_E5, 32,  NOTE_F5, 32,
          NOTE_F5, 32,  NOTE_FS5, 32,  NOTE_G5, 32,  NOTE_G5, 32, NOTE_GS5, 32,  NOTE_A5, 16, NOTE_B5, 8
        };


      // sizeof gives the number of bytes, each int value is composed of two bytes (16 bits)
      // there are two values per note (pitch and duration), so for each note there are four bytes
      int notes = sizeof(melody) / sizeof(melody[0]) / 2;


      // this calculates the duration of a whole note in ms
      int wholenote = (60000 * 4) / tempo;


      int divider = 0, noteDuration = 0;


      unsigned long previousMillis = 0;
      int buzzerState = HIGH;


      #include <LiquidCrystal.h>


      #define echoPin 7
      #define trigPin 8
      #include <Servo.h>
      #include <LiquidCrystal_I2C.h>
      LiquidCrystal_I2C lcd(0x27, 16, 2);


      long time;  //Ultrasonic sensor values
      long distance; // The final result in mm after calculating 'time'
      long result;   //variable for the result of the tx_rx measurement.
      int analog_pin = A0;
      int tx_pin = 10;


      //LED
      const int redPin = 5;
      const int greenPin = 2;
      const int bluePin = 3;


      void color(int blue_num, int red_num, int green_num){
       
        analogWrite(redPin, red_num);
        analogWrite(bluePin, blue_num);
        analogWrite(greenPin, green_num);
      }


      void setup() {
        Serial.begin(9600);
        pinMode(echoPin, INPUT);
        pinMode(trigPin, OUTPUT);




        lcd.init();
        lcd.clear();        
        lcd.backlight();
        lcd.setCursor(4,0);
        lcd.print("Welcome");






         // iterate over the notes of the melody.
        // Remember, the array is twice the number of notes (notes + durations)
        for (int thisNote = 0; thisNote < notes * 2; thisNote = thisNote + 2) {


          // calculates the duration of each note
          divider = melody[thisNote + 1];
          if (divider > 0) {
            // regular note, just proceed
            noteDuration = (wholenote) / divider;
          } else if (divider < 0) {
            // dotted notes are represented with negative durations!!
            noteDuration = (wholenote) / abs(divider);
            noteDuration *= 1.5; // increases the duration in half for dotted notes
          }


          // we only play the note for 90% of the duration, leaving 10% as a pause
          tone(buzzer, melody[thisNote], noteDuration * 0.9);


          // Wait for the specief duration before playing the next note.
          delay(noteDuration);


          // stop the waveform generation before the next note.
          noTone(buzzer);
        }  
       


        //Capacitor
        pinMode(tx_pin, OUTPUT);      //Pin 10 provides the voltage step
      };


      void loop() {
        lcd.clear();


        digitalWrite(trigPin, LOW);
        delay(2);


        digitalWrite (trigPin, HIGH);
        delay(10);


        digitalWrite (trigPin, LOW);


        time = pulseIn(echoPin, HIGH);


        distance = time/5.75; // distance in mm




        previousMillis = 0;




       
        lcd.print(distance);


        lcd.print(" mm");


        if (distance > 10000){  
          lcd.clear();
          lcd.print ("er404");
        }else{
         
        }


          result = tx_rx();
        int real = map(result, 10800, 12550, 0, 1000);


        lcd.setCursor(6, 0);
        lcd.print (real);
        lcd.print(" mN");
        Serial.println(result);
       
        lcd.setCursor(0, 1);
        float RRRR = analogRead(A5);
        float level = 1028-RRRR;
        lcd.print("light: ");
        lcd.print(level);
       
       
        if  (level<=100){
            //Serial.println("Level between 50 and 150 ");
            tone(buzzer,1000);
            color(0,0,0);
        } else if ((level>100)&&(level<=200)){
            color(255,0,255);
            tone(buzzer,500);


        } else if ((level>200)&&(level<=250)){
            color(255,0,0);
            noTone(buzzer);
        } else if ((level>250)){
            color(0, 0, 255);
            noTone(buzzer);
        }


        delay(200);


        if (distance>10000){
            unsigned long currentMillis = millis();
              if ((buzzerState == HIGH) && (currentMillis - previousMillis >= 1000)) {
                buzzerState = LOW;
                previousMillis = currentMillis;
                tone(buzzer, 100);
              } else if ((buzzerState == LOW) && (currentMillis - previousMillis > 1000)) {
                buzzerState = HIGH;
                previousMillis = currentMillis;
                noTone(buzzer);
              }
        }


      }






      long tx_rx(){         // Function to execute rx_tx algorithm and return a value
                            // that depends on coupling of two electrodes.
                            // Value returned is a long integer.
        int read_high;
        int read_low;
        int diff;
        long int sum;
        int N_samples = 100;    // Number of samples to take.  Larger number slows it down, but reduces scatter.


        sum = 0;


        for (int i = 0; i < N_samples; i++){
         digitalWrite(tx_pin,HIGH);              // Step the voltage high on conductor 1.
         read_high = analogRead(analog_pin);     // Measure response of conductor 2.
         delayMicroseconds(100);                 // Delay to reach steady state.
         digitalWrite(tx_pin,LOW);               // Step the voltage to zero on conductor 1.
         read_low = analogRead(analog_pin);      // Measure response of conductor 2.
         diff = read_high - read_low;            // desired answer is the difference between high and low.
         sum += diff;                            // Sums up N_samples of these measurements.
       }
        return sum;
      }  

  </code></pre>
  </div>

  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep10.png" width= 500px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep11.png" width= 500px alt = 05_Joint>

  <div class="myDiv">
    more coding documentation
  </div>

  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep12.png" width= 500px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep13.png" width= 500px alt = 05_Joint>

  <div class="myDiv">
    Then select the whole body, press 'm' or move/copy in the modify menu, create a copy using the checkbox, and move it over so that the spheres on the connector and the spheres cut into the two prongs are aligned.
  </div>

  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep14.png" width= 400px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep15.png" width= 400px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep17.png" width= 400px alt = 05_Joint>

  <div class="myDiv">
    Also, make sure the bodies are not touching each other, and use a sketch and extrusion to cut away the problematic material. And <strong>TA - DA!</strong> your joint is finished. You can copy, paste, and move as many of the joints as necessary to make a chain of joints.
  </div>

  <div class="myDiv">To see the model:<br><br>
      <a  target = blank href="Joint_(Repeatable)_v2.zip" download><button><h2>Download the STL file</h2></button> </a> <br><br>
      <h3>Remember to unzip the file first</h3>
  </div>

  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/JointCADstep16.png" width= 600px alt = 05_Joint>

  <div class="myDiv">
    Finally slice your model and get it ready for 3D printing. I used 30% infill, no supports, and Prusa Slicer for MK3S to do my project but feel free to use you own settings. 
  </div>

  <div class="myDiv">
    <h2>3D Printing Process</h2>
  </div>

  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/IMG-4318.JPG" height= 500px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/IMG-4324.jpg" height= 500px alt = 05_Joint>

  <div class="myDiv">
    The first picture is one of the first layers and the second one is the formation of the spheres on the connectors.
  </div>

  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/IMG-4327.jpg" height= 500px alt = 05_Joint>
  <img src = "https://raw.githubusercontent.com/SaiDBod/PHYS-S12-IntroToDigitalFabrication/main/05_3DPrinting/w5images_3D/IMG-4329.jpg" height= 500px alt = 05_Joint>

  <div class="myDiv">
   The 3rd picture is when the print is almost done and finally the result of the 3D Printing process can be seen in Picture #4.<br><br> The final print took 18 minutes to fully print. Such a joint cannot be manufactured through subtractive methods either.
  </div> 
  <div class="myDiv">
   <h2> This is how the joint works!</h2>
  </div>
  <div><video height="500" controls>
        <source src="./IMG_4411.mp4" type=video/mp4>
    </video></div>

  </div><br>



<div class="myDiv">
  <h2>3D Scanning </h2>
</div>
<div class="vidDiv">
  <img src="./w5images_Scan/IMG-4288.jpg" height= 500px alt= 05_Scan>
  <img src="./w5images_Scan/IMG-4286.jpg" height= 500px alt= 05_Scan>
  <div class="myDiv">
    I scanned my Ice Cubes Gum box using the RevoPoint Scanner. 
  </div>
  <img src="./w5images_Scan/IMG-4287.jpg" height= 600px alt= 05_Scan>
  <img src="./w5images_Scan/IMG-4315.jpg" height= 500px alt= 05_Scan>
  <div class="myDiv">
    Then, using the studio app, the holes were filled and the last image shows the final product. <br> It is very similar to the box itself! <br> Also I learned that many of the objects need lighting to work with the 3D scanner. Very Dark (Black) objects need tremendous amounts of light for the 3D scanner to pick them. I learned this when attempting to scan my mouse, which just would not scan well, even with a studio light.
  </div>
</div><br>

<div class="vidDiv">
  <div class="myDiv">
      <h2>What did I learn?</h2><br>
      <h5> I learned the restrictions of 3D printing and how to use Fusion 360 to print multiple bodies that can move. I also learned when 3D scanning is applicable and when to use, or not use, the tool depending on the size, lighting, and color of the object.</h5><br>
  </div>
<br>
  <div class="myDiv">
      <h2>What can I do better next time?</h2><br>
      <h5>Next time I make a joint, I should fillet the edges for smoother movement. </h5><br>
  </div>
</div>
</xmp>


</body>

<script src="../strapdown.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" ></script>

</html>
